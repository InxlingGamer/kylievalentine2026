<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For My Bunny</title>
    
    <!-- 1. Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. Google Fonts: Nunito for a round, cute look -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
    
    <!-- 3. GSAP for Scroll Animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <!-- 4. Confetti for the finale -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        body {
            font-family: 'Nunito', sans-serif;
            overflow-x: hidden;
            background-color: #e0f2fe; /* Sky blue top */
            /* Gradient background */
            background: linear-gradient(180deg, #e0f2fe 0%, #dcfce7 40%, #fce7f3 100%);
        }

        /* Hide scrollbar for cleaner look */
        ::-webkit-scrollbar {
            width: 0px;
            background: transparent;
        }

        .bunny-container {
            position: fixed;
            bottom: 10%;
            left: 50%;
            transform: translateX(-50%);
            z-index: 50;
            will-change: transform;
        }

        .bunny-body {
            animation: bounce 0.6s infinite alternate ease-in-out;
        }

        @keyframes bounce {
            from { transform: translateY(0); }
            to { transform: translateY(-10px); }
        }

        .clouds-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .cloud {
            opacity: 0.8;
            position: absolute;
            animation: floatCloud 20s linear infinite;
        }

        @keyframes floatCloud {
            from { transform: translateX(-100%); }
            to { transform: translateX(100vw); }
        }

        .card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(5px);
            border-radius: 20px;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }

        /* Photo Placeholder Styles */
        .photo-frame {
            width: 100%;
            height: 250px;
            background-color: #e5e7eb;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 4px solid white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .photo-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* The hidden heart popup */
        #proposal-popup {
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform: scale(0);
            opacity: 0;
        }
        
        #proposal-popup.active {
            transform: scale(1);
            opacity: 1;
        }

        .tap-hint {
            animation: pulse 2s infinite;
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- BACKGROUND CLOUDS -->
    <div class="clouds-container">
        <!-- Cloud 1 -->
        <svg class="cloud" style="top: 10%; width: 100px; animation-duration: 25s;" viewBox="0 0 24 24" fill="white"><path d="M18.5,12c-0.3,0-0.6,0.1-0.9,0.1C17.2,10.2,15.3,9,13,9c-2.8,0-5.1,1.8-6,4.3C6.7,13.1,6.4,13,6,13c-2.2,0-4,1.8-4,4 s1.8,4,4,4h12.5c2.5,0,4.5-2,4.5-4.5S21,12,18.5,12z"/></svg>
        <!-- Cloud 2 -->
        <svg class="cloud" style="top: 30%; width: 80px; animation-duration: 35s; animation-delay: -10s;" viewBox="0 0 24 24" fill="white"><path d="M18.5,12c-0.3,0-0.6,0.1-0.9,0.1C17.2,10.2,15.3,9,13,9c-2.8,0-5.1,1.8-6,4.3C6.7,13.1,6.4,13,6,13c-2.2,0-4,1.8-4,4 s1.8,4,4,4h12.5c2.5,0,4.5-2,4.5-4.5S21,12,18.5,12z"/></svg>
    </div>

    <!-- THE BUNNY (Fixed Character) -->
    <div class="bunny-container">
        <svg width="100" height="120" viewBox="0 0 100 120" class="bunny-body">
            <!-- Ears -->
            <path d="M30 40 Q20 0 40 10" fill="#fff" stroke="#f3f4f6" stroke-width="2"/>
            <path d="M35 35 Q28 10 38 15" fill="#fbcfe8"/> <!-- Inner Ear L -->
            <path d="M70 40 Q80 0 60 10" fill="#fff" stroke="#f3f4f6" stroke-width="2"/>
            <path d="M65 35 Q72 10 62 15" fill="#fbcfe8"/> <!-- Inner Ear R -->
            
            <!-- Head -->
            <circle cx="50" cy="55" r="35" fill="#fff" stroke="#f3f4f6" stroke-width="2"/>
            
            <!-- Eyes -->
            <circle cx="40" cy="50" r="3" fill="#1f2937"/>
            <circle cx="60" cy="50" r="3" fill="#1f2937"/>
            
            <!-- Cheeks -->
            <circle cx="35" cy="60" r="4" fill="#fbcfe8" opacity="0.6"/>
            <circle cx="65" cy="60" r="4" fill="#fbcfe8" opacity="0.6"/>
            
            <!-- Nose/Mouth -->
            <path d="M48 58 Q50 60 52 58" fill="none" stroke="#db2777" stroke-width="2" stroke-linecap="round"/>
            <path d="M50 60 L50 65" fill="none" stroke="#db2777" stroke-width="2" stroke-linecap="round"/>
            
            <!-- Body -->
            <path d="M30 80 Q20 110 50 110 Q80 110 70 80" fill="#fff" stroke="#f3f4f6" stroke-width="2"/>
            
            <!-- Paws -->
            <ellipse cx="40" cy="85" rx="6" ry="4" fill="#fff" stroke="#e5e7eb"/>
            <ellipse cx="60" cy="85" rx="6" ry="4" fill="#fff" stroke="#e5e7eb"/>
        </svg>
        <div class="text-center mt-2 bg-white/80 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold text-pink-500 shadow-sm border border-pink-100">
            Keep scrolling!
        </div>
    </div>

    <!-- MAIN SCROLL CONTENT -->
    <main class="relative z-10 pb-96"> <!-- Large padding bottom to allow scrolling past bunny -->
        
        <!-- SECTION 1: INTRO -->
        <div class="h-screen flex items-start justify-center pt-20 px-6 section">
            <div class="card p-8 text-center max-w-sm fade-in-up">
                <h1 class="text-3xl font-extrabold text-pink-500 mb-4">Hi Bunny! üê∞</h1>
                <p class="text-gray-600 text-lg leading-relaxed">
                    I made a little something for you. <br>
                    Follow the bunny down the path...
                </p>
                <div class="mt-6 text-pink-400 animate-bounce">
                    ‚Üì
                </div>
            </div>
        </div>

        <!-- SECTION 2: MEMORY 1 (Text + Photo) -->
        <div class="h-screen flex items-center justify-center px-6 section">
            <div class="card p-6 w-full max-w-sm fade-in-up">
                <!-- CUSTOMIZATION: Change this text -->
                <p class="text-pink-500 font-bold mb-3">Do you remember...</p>
                
                <!-- CUSTOMIZATION: Add your image URL in the src below -->
                <div class="photo-frame mb-4">
                     <!-- Example using a placeholder service. Replace src with your image file path -->
                    <img src="https://placehold.co/400x300/pink/white?text=Our+First+Date" alt="Memory 1">
                </div>

                <p class="text-gray-600 text-sm">
                    When we went on our first date? I knew right then that you were special.
                </p>
            </div>
        </div>

        <!-- SECTION 3: REASON WHY (Text only) -->
        <div class="h-screen flex items-center justify-center px-6 section">
            <div class="card p-8 w-full max-w-sm text-center fade-in-up">
                <div class="text-4xl mb-4">‚ú®</div>
                <h2 class="text-2xl font-bold text-gray-800 mb-4">You make life better.</h2>
                <p class="text-gray-600">
                    Your smile is my favorite thing in the world. Being your "bunny" makes me the happiest person alive.
                </p>
            </div>
        </div>

        <!-- SECTION 4: MEMORY 2 -->
        <div class="h-screen flex items-center justify-center px-6 section">
            <div class="card p-6 w-full max-w-sm fade-in-up">
                 <!-- CUSTOMIZATION: Change this text -->
                <p class="text-pink-500 font-bold mb-3">And that time when...</p>
                
                 <!-- CUSTOMIZATION: Add your image URL in the src below -->
                <div class="photo-frame mb-4">
                    <img src="https://placehold.co/400x300/pink/white?text=Funny+Moment" alt="Memory 2">
                </div>

                <p class="text-gray-600 text-sm">
                    We couldn't stop laughing at that silly thing? I love those moments with you.
                </p>
            </div>
        </div>

        <!-- SECTION 5: THE ASK (Carrot House) -->
        <div class="h-screen flex flex-col items-center justify-center px-6 section relative">
            
            <!-- The "House" / Goal -->
            <div id="mailbox-trigger" class="cursor-pointer transform transition-transform hover:scale-105 active:scale-95 mb-32 fade-in-up">
                <svg width="150" height="150" viewBox="0 0 100 100">
                    <!-- Carrot House Shape -->
                    <path d="M20 80 L50 20 L80 80 Z" fill="#fb923c" stroke="#c2410c" stroke-width="2"/>
                    <rect x="40" y="60" width="20" height="20" fill="#7c2d12" rx="2"/> <!-- Door -->
                    <circle cx="50" cy="40" r="8" fill="#fef3c7"/> <!-- Window -->
                    <!-- Green top -->
                    <path d="M45 20 Q40 5 30 10" fill="none" stroke="#16a34a" stroke-width="3"/>
                    <path d="M50 20 Q50 0 50 10" fill="none" stroke="#16a34a" stroke-width="3"/>
                    <path d="M55 20 Q60 5 70 10" fill="none" stroke="#16a34a" stroke-width="3"/>
                </svg>
                <div class="text-center mt-4 bg-white px-4 py-2 rounded-full shadow-lg tap-hint">
                    <span class="text-pink-500 font-bold">Tap the Carrot House!</span>
                </div>
            </div>

        </div>
    </main>

    <!-- PROPOSAL POPUP OVERLAY -->
    <div id="proposal-popup" class="fixed inset-0 bg-black/60 z-[100] flex items-center justify-center px-6 pointer-events-none">
        <div class="bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl pointer-events-auto relative overflow-hidden">
            <!-- Decorative background hearts -->
            <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-pink-300 to-red-400"></div>
            
            <h2 class="text-3xl font-black text-pink-600 mb-2">My Dearest Bunny,</h2>
            <p class="text-gray-600 mb-8 mt-4 text-lg">
                I have one important question...
            </p>
            
            <div class="text-2xl font-bold text-gray-800 mb-8 leading-tight">
                Will you be my Valentine?
            </div>

            <div class="space-y-3">
                <button onclick="acceptProposal()" class="w-full bg-pink-500 hover:bg-pink-600 text-white font-bold py-4 rounded-xl shadow-lg transform transition active:scale-95 text-xl">
                    YES! üê∞‚ù§Ô∏è
                </button>
                <button onclick="acceptProposal()" class="w-full bg-pink-100 hover:bg-pink-200 text-pink-600 font-bold py-3 rounded-xl transform transition active:scale-95">
                    Of course!
                </button>
            </div>
        </div>
    </div>

    <script>
        // 1. REGISTER GSAP
        gsap.registerPlugin(ScrollTrigger);

        // 2. ANIMATE SECTIONS ON SCROLL
        // This grabs all elements with class 'fade-in-up' and animates them
        gsap.utils.toArray('.fade-in-up').forEach((elem) => {
            gsap.from(elem, {
                scrollTrigger: {
                    trigger: elem,
                    start: "top 80%", // When top of element hits 80% down viewport
                    end: "bottom 20%",
                    toggleActions: "play none none reverse"
                },
                y: 50,
                opacity: 0,
                duration: 1,
                ease: "power2.out"
            });
        });

        // 3. FINAL INTERACTION
        const mailbox = document.getElementById('mailbox-trigger');
        const popup = document.getElementById('proposal-popup');
        const bunnyContainer = document.querySelector('.bunny-container');

        mailbox.addEventListener('click', () => {
            // Hide the bunny to focus on popup
            gsap.to(bunnyContainer, { opacity: 0, duration: 0.5 });
            
            // Show popup
            popup.classList.add('active');
            
            // First burst of small confetti
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 },
                colors: ['#f472b6', '#db2777', '#fce7f3'] // Pink theme
            });
        });

        // 4. ACCEPT PROPOSAL FUNCTION
        function acceptProposal() {
            // Close popup logic could go here, but let's just blast confetti
            
            // Massive confetti explosion
            const duration = 15 * 1000;
            const animationEnd = Date.now() + duration;
            const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 200 };

            function randomInRange(min, max) {
                return Math.random() * (max - min) + min;
            }

            const interval = setInterval(function() {
                const timeLeft = animationEnd - Date.now();

                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }

                const particleCount = 50 * (timeLeft / duration);
                
                // Since particles fall down, start a bit higher than random
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } }));
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } }));
            }, 250);

            // Change button text
            const btns = document.querySelectorAll('button');
            btns[0].textContent = "YAY!!! I LOVE YOU! ‚ù§Ô∏è";
            btns[0].classList.replace('bg-pink-500', 'bg-green-500');
            btns[1].style.display = 'none';
        }
    </script>
</body>
</html>